import{i as Y,j as e,r as t,B as P,q as Z,I as q,l as se,o as Me,d as we,v as ne,h as W,T as X,E as De,M as ve,G as Ee,L as Te,H as ze,F as ae,w as re,A as Ae,f as Ie,J as Le}from"./index-qK0o-Q92.js";import{e as Pe,E as Be,d as he,A as xe,D as ie,a as le,b as ce,f as Oe,c as de}from"./Edit-CCfa0YKQ.js";import{C as ue}from"./Chip-3VK4x1wM.js";import{D as Re}from"./DataGrid-O0OBj0n8.js";import{I as pe,T as ge}from"./TextField-C-YT50CF.js";import{S as fe,R as Fe}from"./Search-CSBBnF9R.js";import{P as Ne}from"./PageContainer-BCbYQsKo.js";import"./TableCell-35Alp292.js";import"./Link-CdVe1SFP.js";const $e=Y([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),Ue=Y(e.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"})),He=Y(e.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"})),_e=Y([e.jsx("path",{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07z"},"0"),e.jsx("path",{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52"},"1")]),Ge=Y(e.jsx("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"})),be="/api/pizzas",We=10,E={ALPHA_ASC:"alphaAsc",ALPHA_DESC:"alphaDesc",MOST_USED:"mostUsed",RECENT:"recent"},V={IDLE:"idle",LOADING:"loading",SUCCEEDED:"succeeded",FAILED:"failed"},ee=async()=>{const a=await fetch(be);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()},oe=async(a,i)=>{const l=await fetch(`${be}/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok)throw new Error(`Failed to update pizza ${a}`);return await l.json()},qe=async(a,i)=>{try{const u=(await ee()).filter(c=>{var m;return(m=c.toppings)==null?void 0:m.includes(a)});return await Promise.all(u.map(c=>{const m=c.toppings.map(j=>j===a?i:j);return oe(c.id,{...c,toppings:m})})),!0}catch(l){throw console.error("Error updating topping:",l),new Error(`Failed to update topping: ${l.message}`)}},Ve=async a=>{try{const l=(await ee()).filter(u=>{var c;return(c=u.toppings)==null?void 0:c.includes(a)});return await Promise.all(l.map(u=>{const c=u.toppings.filter(m=>m!==a);return oe(u.id,{...u,toppings:c})})),!0}catch(i){throw console.error("Error removing topping:",i),new Error(`Failed to remove topping: ${i.message}`)}},Je=async a=>{try{const i=await ee(),l=new Set(a),u=i.filter(c=>{var m;return(m=c.toppings)==null?void 0:m.some(j=>l.has(j))});return await Promise.all(u.map(c=>{const m=c.toppings.filter(j=>!l.has(j));return oe(c.id,{...c,toppings:m})})),!0}catch(i){throw console.error("Error removing multiple toppings:",i),new Error(`Failed to remove toppings: ${i.message}`)}},Q={fetchPizzas:ee,updateToppingInPizzas:qe,removeToppingFromPizzas:Ve,removeMultipleToppingsFromPizzas:Je};function Ke(a,i){return[...a].sort((l,u)=>{const c=i.includes(l.name),m=i.includes(u.name);return c&&!m?-1:!c&&m?1:c&&m?i.indexOf(l.name)-i.indexOf(u.name):l.name.localeCompare(u.name)})}function Ze(a){return[...a].sort((i,l)=>l.usage-i.usage||i.name.localeCompare(l.name))}function me(a,i=!0){return[...a].sort((l,u)=>{const c=l.name.localeCompare(u.name);return i?c:-c})}function Ye(a,i){if(!i)return a;const l=i.toLowerCase();return a.filter(u=>u.name.toLowerCase().includes(l))}function te(a,i){const l=a.toLowerCase().trim();return i.some(u=>u.toLowerCase().trim()===l)}function Qe(){const[a,i]=t.useState([]),[l,u]=t.useState([]),[c,m]=t.useState({status:V.IDLE,error:null}),[j,f]=t.useState(!1),[b,R]=t.useState(""),[T,$]=t.useState(E.ALPHA_ASC),[h,C]=t.useState([]),[k,z]=t.useState({}),[O,A]=t.useState({}),[_,J]=t.useState({open:!1,toppingName:null,isBulk:!1}),[F,I]=t.useState("asc"),[B,L]=t.useState("name"),U=t.useCallback(s=>{const o=s.flatMap(p=>p.toppings||[]).map(p=>p==null?void 0:p.trim()).filter(Boolean),r={},n=new Map;for(const p of o){const N=p.toLowerCase();r[N]=(r[N]||0)+1,n.has(N)||n.set(N,p)}return Array.from(n.values()).map(p=>({name:p,usage:r[p.toLowerCase()]||0}))},[]),d=t.useCallback(async()=>{m({status:V.LOADING,error:null}),C([]);try{const s=await Q.fetchPizzas(),o=U(s);i(o),m({status:V.SUCCEEDED,error:null})}catch(s){console.error("Error fetching toppings:",s),m({status:V.FAILED,error:s.message||"Failed to load toppings"})}},[U]),g=t.useCallback(()=>{let s=[...a];switch(b&&(s=Ye(s,b)),T){case E.ALPHA_DESC:s=me(s,!1);break;case E.MOST_USED:s=Ze(s);break;case E.RECENT:s=Ke(s,l);break;default:s=me(s,!0)}return s},[a,b,T,l]),x=t.useCallback((s,o=0)=>{if(te(s,a.map(n=>n.name)))return!1;const r={name:s,usage:o};return i(n=>[...n,r]),u(n=>[s,...n].slice(0,We)),!0},[a]),M=t.useCallback(s=>{const o=a.find(N=>N.name===s);if(!o)return;const r=s;let n=1,p=`${r} (${n})`;for(;te(p,a.map(N=>N.name));)n++,p=`${r} (${n})`;x(p,o.usage)},[a,x]),D=t.useCallback((s,o)=>{z(r=>({...r,[s]:!0})),A(r=>({...r,[s]:{text:o,error:null}}))},[]),w=t.useCallback(s=>{z(o=>({...o,[s]:!1})),A(o=>{const r={...o};return delete r[s],r})},[]),v=t.useCallback(async(s,o)=>{const r=o==null?void 0:o.trim();if(!r)return A(n=>({...n,[s]:{...n[s],error:"Name cannot be empty"}})),!1;if(r===s)return w(s),!0;if(te(r,a.map(n=>n.name)))return A(n=>({...n,[s]:{...n[s],error:"Name already exists"}})),!1;f(!0);try{return await Q.updateToppingInPizzas(s,r),i(n=>n.map(p=>p.name===s?{...p,name:r}:p)),u(n=>n.map(p=>p===s?r:p)),C(n=>n.map(p=>p===s?r:p)),w(s),!0}catch(n){return A(p=>({...p,[s]:{...p[s],error:`Save failed: ${n.message}`}})),!1}finally{f(!1)}},[a,w]),S=t.useCallback(async s=>{if(!s.length)return!1;f(!0);try{s.length===1?await Q.removeToppingFromPizzas(s[0]):await Q.removeMultipleToppingsFromPizzas(s);const o=new Set(s);return i(r=>r.filter(n=>!o.has(n.name))),u(r=>r.filter(n=>!o.has(n))),C(r=>r.filter(n=>!o.has(n))),!0}catch(o){return m(r=>({...r,error:`Delete failed: ${o.message}`})),setTimeout(()=>m(r=>({...r,error:null})),5e3),!1}finally{f(!1)}},[]);t.useEffect(()=>{d()},[d]),t.useEffect(()=>{switch(T){case E.ALPHA_DESC:L("name"),I("desc");break;case E.MOST_USED:L("usage"),I("desc");break;case E.RECENT:L("name"),I("asc");break;default:L("name"),I("asc")}},[T]);const H=t.useCallback((s,o)=>{I(B===o&&F==="asc"?"desc":"asc"),L(o)},[F,B]),G=t.useCallback(s=>{if(s.target.checked){const o=g().map(r=>r.name);C(o);return}C([])},[g]),K=t.useCallback((s,o)=>{const r=h.indexOf(o);let n=[];r===-1?n=n.concat(h,o):r===0?n=n.concat(h.slice(1)):r===h.length-1?n=n.concat(h.slice(0,-1)):r>0&&(n=n.concat(h.slice(0,r),h.slice(r+1))),C(n)},[h]);return{toppings:g(),recentToppings:l,filterText:b,currentSortType:T,selected:h,editMode:k,editState:O,deleteDialog:_,fetchState:c,mutationLoading:j,order:F,orderBy:B,setFilterText:R,setCurrentSortType:$,setSelected:C,setDeleteDialog:J,setOrder:I,setOrderBy:L,handleAddTopping:x,handleStartEdit:D,handleSaveEdit:v,handleCancelEdit:w,handleDelete:S,handleDuplicateTopping:M,fetchToppings:d,handleRequestSort:H,handleRowClick:K,handleSelectAllClick:G}}const Xe=({toppingsData:a,order:i,orderBy:l,selected:u,onRowClick:c,onRequestSort:m,onEditStart:j,onEditSave:f,onEditCancel:b,onDeleteRequest:R,editMode:T,editState:$,loading:h,recentToppings:C})=>{const k=t.useCallback(d=>{R(d)},[R]),z=t.useCallback(d=>d.id,[]),O=t.useMemo(()=>a.map(d=>({id:d.name,name:d.name,usage:d.usage,isNew:C.includes(d.name),editState:$[d.name]||{text:"",error:null},isEditing:!!T[d.name]})),[a,C,T,$]),A=t.useMemo(()=>[{field:"name",headerName:"Topping Name",flex:1.5,minWidth:180,renderCell:d=>{const{isEditing:g,editState:x,name:M,isNew:D}=d.row,w={display:"flex",alignItems:"center",minHeight:40};if(g){const v={display:"flex",alignItems:"center",width:"100%"};return e.jsxs(P,{sx:v,children:[e.jsx("input",{style:{flex:1,fontSize:16,padding:4,borderRadius:4,border:"1px solid #ccc"},value:x.text,onChange:S=>j(M,S.target.value),onKeyDown:S=>{S.key==="Enter"&&f(M,x.text),S.key==="Escape"&&b(M)},disabled:h}),x.error&&e.jsx("span",{style:{color:"red",fontSize:12,marginLeft:8},children:x.error})]})}return e.jsxs(P,{sx:w,children:[M,D&&e.jsx(ue,{label:"New",size:"small",color:"info",sx:{fontSize:"0.65rem",height:18,ml:1}})]})},sortable:!0},{field:"usage",headerName:"Usage Count",align:"right",headerAlign:"right",flex:1,minWidth:120,renderCell:d=>e.jsx(ue,{label:d.value,size:"small",color:d.value>2?"primary":"default",variant:d.value>2?"filled":"outlined"}),sortable:!0},{field:"actions",headerName:"Actions",flex:1,minWidth:140,align:"right",headerAlign:"right",sortable:!1,disableReorder:!0,renderCell:d=>{var S;const{isEditing:g,name:x,editState:M}=d.row,D={display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",gap:1};if(g){const H=()=>f(x,M.text),G=()=>b(x);return e.jsxs(P,{sx:D,children:[e.jsx(Z,{title:"Save changes",children:e.jsx("span",{children:e.jsx(q,{color:"primary",size:"small",onClick:H,disabled:h||!((S=M.text)!=null&&S.trim()),children:e.jsx(Pe,{fontSize:"small"})})})}),e.jsx(Z,{title:"Cancel editing",children:e.jsx("span",{children:e.jsx(q,{size:"small",onClick:G,disabled:h,children:e.jsx(se,{fontSize:"small"})})})})]})}const w=()=>j(x,x),v=()=>k(x);return e.jsxs(P,{sx:D,children:[e.jsx(Z,{title:"Edit topping name",children:e.jsx("span",{children:e.jsx(q,{size:"small",color:"primary",onClick:w,disabled:h,children:e.jsx(Be,{fontSize:"small"})})})}),e.jsx(Z,{title:"Remove topping",children:e.jsx("span",{children:e.jsx(q,{size:"small",color:"error",onClick:v,disabled:h,children:e.jsx(he,{fontSize:"small"})})})})]})}}],[h,b,f,j,k]),_=t.useMemo(()=>({sorting:{sortModel:[{field:l,sort:i}]}}),[l,i]),J=t.useCallback(d=>{d[0]&&m(null,d[0].field)},[m]),F=t.useMemo(()=>[10,25,50],[]),I=t.useMemo(()=>u,[u]),B=t.useCallback(d=>{if(c)if(d.length>u.length){const g=d.find(x=>!u.includes(x));g&&c({target:{}},g)}else{const g=u.find(x=>!d.includes(x));g&&c({target:{}},g)}},[c,u]),L=t.useMemo(()=>({width:"100%",height:"100%"}),[]),U=t.useMemo(()=>({borderRadius:2,borderColor:"divider","& .MuiDataGrid-cell:focus":{outline:"none"},height:"100%","& .MuiDataGrid-virtualScroller::-webkit-scrollbar":{width:"8px"},"& .MuiDataGrid-virtualScroller::-webkit-scrollbar-track":{background:"transparent"},"& .MuiDataGrid-virtualScroller::-webkit-scrollbar-thumb":{backgroundColor:d=>d.palette.mode==="light"?"#BDBDBD":"#666666",borderRadius:"4px"},"& .MuiDataGrid-virtualScroller::-webkit-scrollbar-thumb:hover":{backgroundColor:d=>d.palette.mode==="light"?"#9E9E9E":"#888888"}}),[]);return e.jsx(P,{sx:L,children:e.jsx(Re,{rows:O,columns:A,checkboxSelection:!0,disableRowSelectionOnClick:!0,selectionModel:I,onRowSelectionModelChange:B,loading:h,disableColumnMenu:!0,pageSizeOptions:F,initialState:_,onSortModelChange:J,sx:U,getRowId:z})})},et=({numSelected:a,filterText:i,onFilterTextChange:l,onClearFilter:u,sortType:c,onSortChange:m,loading:j,onDeleteSelected:f,onAddTopping:b,onRefresh:R})=>{const T=we(),[$,h]=t.useState(null),C=t.useCallback(()=>{h(null)},[]),k=t.useCallback(o=>{m(o),C()},[m,C]),z=t.useCallback(()=>{u()},[u]),O=t.useCallback(()=>{f()},[f]),A=t.useCallback(o=>{l(o.target.value)},[l]),_=t.useCallback(o=>{h(o.currentTarget)},[]),J=t.useMemo(()=>[{type:E.ALPHA_ASC,label:"Alphabetical (A-Z)",icon:e.jsx(He,{})},{type:E.ALPHA_DESC,label:"Alphabetical (Z-A)",icon:e.jsx(Ue,{})},{type:E.MOST_USED,label:"Most Used",icon:e.jsx(_e,{})},{type:E.RECENT,label:"Recently Added",icon:e.jsx($e,{})}],[]),F=t.useMemo(()=>({mb:3,borderRadius:3,overflow:"hidden",backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",boxShadow:1,position:"relative"}),[]),I=t.useMemo(()=>({p:{xs:2.5,sm:4},position:"relative",zIndex:2}),[]),B=t.useMemo(()=>({display:"flex",alignItems:"center",gap:2,ml:{xs:0,md:"auto"},flexWrap:{xs:"wrap",sm:"nowrap"},width:{xs:"100%",md:"auto"}}),[]),L=t.useMemo(()=>({display:"flex",alignItems:"center",gap:2,ml:{xs:0,md:"auto"},flexWrap:{xs:"wrap",sm:"nowrap"},width:{xs:"100%",md:"auto"}}),[]),U=t.useMemo(()=>({fontWeight:700,color:"text.primary",letterSpacing:"-0.01em",position:"relative",display:"inline-block",mb:.5,fontFamily:"Inter, Roboto, Arial",lineHeight:1.18}),[]),d=t.useMemo(()=>({color:"text.secondary",maxWidth:520,fontWeight:400,fontSize:{xs:"1.04rem",sm:"1.10rem"},mt:.5,fontFamily:"Inter, Roboto, Arial"}),[]),g=t.useMemo(()=>({color:"text.secondary"}),[]),x=t.useMemo(()=>({startAdornment:e.jsx(pe,{position:"start",children:e.jsx(fe,{sx:g})}),endAdornment:i&&e.jsx(pe,{position:"end",children:e.jsx(q,{size:"small",onClick:z,edge:"end","aria-label":"clear search",children:e.jsx(se,{fontSize:"small"})})})}),[i,z,g]),M=t.useMemo(()=>e.jsx(q,{onClick:R,"aria-label":"refresh list",sx:{backgroundColor:"action.selected",color:"primary.main","&:hover":{backgroundColor:ne(T.palette.primary.main,.15)},width:"40px",height:"40px"},children:e.jsx(Fe,{})}),[R,T]),D=t.useMemo(()=>e.jsx(W,{variant:"outlined",size:"medium",startIcon:e.jsx(Ge,{}),onClick:_,sx:{textTransform:"none",borderColor:"divider",color:"text.primary","&:hover":{backgroundColor:"action.hover",borderColor:"primary.main"}},children:"Sort"}),[_]),w=t.useMemo(()=>e.jsx(W,{variant:"contained",color:"primary",size:"medium",sx:{textTransform:"none",transition:"all 0.2s ease-in-out",color:"primary.contrastText"},onClick:b,startIcon:e.jsx(xe,{}),children:"Add"}),[b]),v=t.useMemo(()=>({"& .MuiInputBase-root":{backgroundColor:"background.default",color:"text.primary",height:"40px",minWidth:"200px"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"divider"},"& .MuiInputBase-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"action.active"},"& .MuiInputBase-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"}}),[]),S=t.useMemo(()=>({"aria-labelledby":"sort-button"}),[]),H=t.useMemo(()=>({vertical:"bottom",horizontal:"right"}),[]),G=t.useMemo(()=>({vertical:"top",horizontal:"right"}),[]),K=t.useCallback(o=>()=>k(o),[k]),s=t.useMemo(()=>e.jsx(P,{sx:F,children:e.jsx(P,{sx:I,children:e.jsxs(P,{sx:B,children:[e.jsxs(P,{children:[e.jsx(X,{variant:"h4",component:"h2",sx:U,children:"Toppings Menu"}),e.jsx(X,{variant:"body1",sx:d,children:"Manage your toppings with ease. Add, edit, or remove items as needed."})]}),e.jsxs(P,{sx:L,children:[e.jsx(ge,{placeholder:"Search toppings...",size:"small",value:i,onChange:A,InputProps:x,sx:v}),w,D,e.jsx(Z,{title:"Refresh List",children:M})]})]})})}),[F,I,B,U,d,L,i,A,x,w,D,M,v]);return e.jsxs(e.Fragment,{children:[s,a>0&&e.jsxs(De,{sx:{pl:{sm:2},pr:{xs:1,sm:1},display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,bgcolor:o=>ne(o.palette.primary.main,o.palette.action.activatedOpacity),borderRadius:1},children:[e.jsxs(X,{sx:{flex:"1 1 auto"},color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}),e.jsx(Z,{title:"Delete selected toppings",children:e.jsx(q,{onClick:O,color:"error",disabled:j,"aria-label":"delete selected toppings",children:e.jsx(he,{})})})]}),e.jsx(ve,{id:"sort-menu",anchorEl:$,open:!!$,onClose:C,MenuListProps:S,anchorOrigin:H,transformOrigin:G,children:J.map(({type:o,label:r,icon:n})=>e.jsxs(Ee,{onClick:K(o),selected:c===o,dense:!0,children:[e.jsx(Te,{children:n}),e.jsx(ze,{children:r})]},o))})]})},tt=Me.memo(et),st=()=>{const{toppings:a,recentToppings:i,filterText:l,currentSortType:u,selected:c,editMode:m,editState:j,deleteDialog:f,fetchState:b,mutationLoading:R,order:T,orderBy:$,setFilterText:h,setCurrentSortType:C,setDeleteDialog:k,setOrder:z,setOrderBy:O,handleAddTopping:A,handleStartEdit:_,handleSaveEdit:J,handleCancelEdit:F,handleDelete:I,fetchToppings:B,handleRequestSort:L,handleRowClick:U}=Qe(),d=t.useCallback(y=>{switch(C(y),y){case E.ALPHA_DESC:O("name"),z("desc");break;case E.MOST_USED:O("usage"),z("desc");break;case E.RECENT:O("name"),z("asc");break;default:O("name"),z("asc")}},[C,z,O]),g=t.useMemo(()=>a,[a]),[x,M]=t.useState(!1),[D,w]=t.useState(""),[v,S]=t.useState(""),H=b.status===V.LOADING||R,G=b.status===V.FAILED,K=b.error,s=t.useCallback(()=>{w(""),S(""),M(!0)},[]),o=t.useCallback(()=>{M(!1),w(""),S("")},[]),r=t.useCallback(y=>{w(y.target.value),v&&S("")},[v]),n=t.useCallback(()=>{const y=D.trim();if(!y){S("Topping name cannot be empty");return}if(a.some(ke=>ke.name.toLowerCase()===y.toLowerCase())){S("This topping already exists");return}A(y),o()},[D,a,A,o]),p=t.useCallback(()=>{h("")},[h]),N=t.useCallback(y=>{k({open:!0,toppingName:y,isBulk:!1})},[k]),Ce=t.useCallback(()=>{k({open:!0,toppingName:null,isBulk:!0})},[k]),Se=t.useMemo(()=>e.jsx(ae,{in:!0,timeout:500,children:e.jsx(P,{sx:{display:"flex",justifyContent:"center",p:3},children:e.jsx(re,{})})}),[]),je=t.useMemo(()=>e.jsx(ae,{in:!0,timeout:500,children:e.jsxs(Ae,{severity:"error",action:e.jsx(W,{color:"inherit",size:"small",onClick:B,children:"RETRY"}),sx:{mb:2},children:["Failed to load data: ",K||"An unknown error occurred."]})}),[B,K]),ye=t.useMemo(()=>e.jsxs(Ie,{elevation:0,variant:"outlined",sx:{borderRadius:2,p:3,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",borderColor:"divider",bgcolor:"background.paper"},children:[e.jsx(fe,{color:"disabled",sx:{fontSize:40,mb:1}}),e.jsx(X,{variant:"body1",color:"text.secondary",children:l?"No toppings match search":"No toppings added yet"}),!l&&a.length===0&&e.jsx(W,{startIcon:e.jsx(xe,{}),color:"primary",variant:"text",size:"small",sx:{mt:1},onClick:s,children:"Add First Topping"})]}),[l,a.length,s]);return e.jsxs(P,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(Le,{sx:{color:"common.white",zIndex:y=>y.zIndex.drawer+1},open:R,children:t.useMemo(()=>e.jsx(re,{color:"inherit"}),[])}),e.jsx(tt,{numSelected:c.length,filterText:l,onFilterTextChange:h,onClearFilter:p,sortType:u,onSortChange:d,loading:H,onDeleteSelected:Ce,onAddTopping:s,onRefresh:B}),e.jsxs(P,{sx:{flexGrow:1,overflow:"auto",position:"relative"},children:[b.status===V.LOADING&&g.length===0&&Se,G&&je,b.status!==V.LOADING&&!G&&(g.length===0?ye:e.jsx("div",{children:e.jsx(Xe,{toppingsData:g,order:T,orderBy:$,selected:c,onRowClick:U,onRequestSort:L,onEditStart:_,onEditSave:J,onEditCancel:F,onDeleteRequest:N,editMode:m,editState:j,loading:H,recentToppings:i})}))]}),e.jsxs(ie,{open:f.open,onClose:()=>k({open:!1,toppingName:null,isBulk:!1}),"aria-labelledby":"delete-topping-dialog-title","aria-describedby":"delete-topping-dialog-description",children:[e.jsx(le,{id:"delete-topping-dialog-title",children:f.isBulk?`Delete ${c.length} Toppings?`:"Delete Topping?"}),e.jsx(ce,{children:e.jsxs(Oe,{id:"delete-topping-dialog-description",children:[f.isBulk?`Are you sure you want to delete ${c.length} selected toppings? `:`Are you sure you want to delete "${f.toppingName}"? `,"This will remove the topping(s) from all pizzas that use it. This action cannot be undone."]})}),e.jsxs(de,{sx:{p:2},children:[e.jsx(W,{onClick:()=>k({open:!1,toppingName:null,isBulk:!1}),variant:"text",children:"Cancel"}),e.jsx(W,{onClick:()=>{const y=f.isBulk?c:[f.toppingName];I(y),k({open:!1,toppingName:null,isBulk:!1})},color:"error",variant:"contained",autoFocus:!0,disabled:H,children:"Delete"})]})]}),e.jsxs(ie,{open:x,onClose:o,fullWidth:!0,maxWidth:"xs",children:[e.jsxs(le,{children:["Add New Topping"," ",e.jsx(q,{"aria-label":"close",onClick:o,sx:{position:"absolute",right:8,top:8,color:"text.secondary"},children:e.jsx(se,{})})]}),e.jsx(ce,{children:e.jsx(ge,{autoFocus:!0,margin:"dense",label:"Topping Name",fullWidth:!0,variant:"outlined",value:D,onChange:r,error:!!v,helperText:v,placeholder:"Enter topping name",sx:{mt:1},onKeyPress:y=>{y.key==="Enter"&&n()}})}),e.jsxs(de,{sx:{px:3,pb:3},children:[e.jsx(W,{onClick:o,variant:"text",children:"Cancel"}),e.jsx(W,{onClick:n,variant:"contained",color:"primary",disabled:!D.trim()||!!v,children:"Add Topping"})]})]})]})},ot=t.memo(st),mt=()=>e.jsx(Ne,{children:e.jsx(ot,{})});export{mt as default};
