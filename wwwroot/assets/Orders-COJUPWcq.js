import{e as C,r as t,j as e,f as l,B as s,T as d,q as w,I as j,v as y}from"./index-qK0o-Q92.js";import{S as v,R as S}from"./Search-CSBBnF9R.js";import{o as k}from"./mockData-C0yMTMhq.js";import{C as R}from"./Chip-3VK4x1wM.js";import{T as D,I}from"./TextField-C-YT50CF.js";import{P as N}from"./PageContainer-BCbYQsKo.js";import{D as O}from"./DataGrid-O0OBj0n8.js";import"./Link-CdVe1SFP.js";import"./TableCell-35Alp292.js";const G=()=>{const i=C(),[o,c]=t.useState(""),[n]=t.useState(k),m=t.useMemo(()=>n.filter(r=>{if(!o)return!0;const f=o.toLowerCase(),b=r.customerName.toLowerCase(),g=r.id.toString();return b.includes(f)||g.includes(o)}).map(r=>({id:r.id,customer:r.customerName,date:new Date(r.orderDate).toLocaleDateString(),status:r.status,total:r.totalAmount})),[n,o]),u=t.useCallback(a=>{c(a.target.value)},[]),h=t.useCallback(()=>{console.log("Refresh action triggered.")},[]),p=t.useCallback(a=>{i(`/orders/${a.id}`)},[i]),x=t.useMemo(()=>[{field:"id",headerName:"Order #",width:100},{field:"customer",headerName:"Customer",flex:1,minWidth:160},{field:"date",headerName:"Date",width:120},{field:"status",headerName:"Status",width:130,renderCell:a=>{let r;switch(a.value){case"Delivered":r="success";break;case"Ready":r="warning";break;case"InProgress":r="primary";break;case"Cancelled":r="error";break;default:r="default"}return e.jsx(R,{label:a.value,size:"small",color:r,variant:"outlined"})}},{field:"total",headerName:"Total (£)",width:120,type:"number",valueFormatter:({value:a})=>typeof a=="number"?`£${a.toFixed(2)}`:"—"}],[]);return e.jsxs(N,{sx:{display:"flex",flexDirection:"column",p:0},children:[e.jsx(l,{elevation:1,sx:{mb:3,borderRadius:3,backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",boxShadow:1,p:{xs:2.5,sm:4}},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2},children:[e.jsxs(s,{children:[e.jsx(d,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"Orders"}),e.jsx(d,{variant:"body2",sx:{color:"text.secondary",maxWidth:520},children:"View and manage all customer orders. Use the search to filter by customer or order number."})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(D,{placeholder:"Search orders...",variant:"outlined",size:"small",value:o,onChange:u,InputProps:{startAdornment:e.jsx(I,{position:"start",children:e.jsx(v,{sx:{color:"text.secondary"}})})},sx:{minWidth:220}}),e.jsx(w,{title:"Refresh Orders",children:e.jsx(j,{onClick:h,"aria-label":"refresh orders",sx:{backgroundColor:"action.selected",color:"primary.main","&:hover":{backgroundColor:a=>y(a.palette.primary.main,.15)}},children:e.jsx(S,{})})})]})]})}),e.jsx(s,{sx:{flexGrow:1,height:"calc(100vh - 220px)",p:{xs:2,sm:3},pt:0},children:e.jsx(l,{elevation:0,sx:{borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"divider",boxShadow:0,height:"100%"},children:e.jsx(O,{rows:m,columns:x,pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},sx:{"& .MuiDataGrid-columnHeaders":{position:"sticky",top:0},border:"none",borderRadius:3,height:"100%"},onRowClick:p,disableRowSelectionOnClick:!0})})})]})};export{G as default};
